#!/usr/bin/env node

const uuidv4 = require('uuid')

const {DEPOSIT} = require('../src/command.js')
const {executeCommands} = require('./util.js')

const [,, accountId, amountString] = process.argv
const amount = parseInt(amountString)

if (!accountId) throw new Error('Invalid account ID')
if (!amount) throw new Error('Invalid amount')

const transactionId = uuidv4()
executeCommands({type: DEPOSIT, data: {accountId, amount, transactionId}})
